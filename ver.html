<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver Pokémon</title>
    <link rel="icon" href="https://lhezver.github.io/pokeapi_192_square.png">
    <meta property="og:title" content="PokéAPI">
    <meta property="og:image" content="https://lhezver.github.io/pokeapi_192_square.png">
    <meta property="og:description" content="Frontend HTML5, CSS3 y JavaScript que consume la API PokéAPI">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <style>
        .text-bg-normal {
            color: black;
            background-color: #A8A77A;
        }

        .text-bg-fire {
            color: black;
            background-color: #EE8130;
        }

        .text-bg-water {
            color: white;
            background-color: #6390F0;
        }

        .text-bg-electric {
            color: black;
            background-color: #F7D02C;
        }

        .text-bg-grass {
            color: black;
            background-color: #7AC74C;
        }

        .text-bg-ice {
            color: black;
            background-color: #96D9D6;
        }

        .text-bg-fighting {
            color: white;
            background-color: #C22E28;
        }

        .text-bg-poison {
            color: white;
            background-color: #A33EA1;
        }

        .text-bg-ground {
            color: black;
            background-color: #E2BF65;
        }

        .text-bg-flying {
            color: black;
            background-color: #A98FF3;
        }

        .text-bg-psychic {
            color: white;
            background-color: #F95587;
        }

        .text-bg-bug {
            color: black;
            background-color: #A6B91A;
        }

        .text-bg-rock {
            color: black;
            background-color: #B6A136;
        }

        .text-bg-ghost {
            color: white;
            background-color: #735797;
        }

        .text-bg-dragon {
            color: white;
            background-color: #6F35FC;
        }

        .text-bg-dark {
            color: black;
            background-color: #705746 !important;
        }

        .text-bg-steel {
            color: black;
            background-color: #B7B7CE;
        }

        .text-bg-fairy {
            color: black;
            background-color: #D685AD;
        }
    </style>
</head>

<body>
    <div class="container mb-5">
        <div class="row">
            <div class="col mt-2 mb-2">
                <h1 id="nombre" class="text-center"></h1>
                <h2 id="id" class="text-center"></h2>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col col-md-3">
                <div class="card bg-light">
                    <div id="carouselExampleCaptions" class="carousel carousel-dark slide">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
                                class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                                aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                                aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
                                aria-label="Slide 4"></button>
                        </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img id="frente"
                                    src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png"
                                    class="d-block w-100">
                            </div>
                            <div class="carousel-item">
                                <img id="atras"
                                    src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/1.png"
                                    class="d-block w-100">
                            </div>
                            <div class="carousel-item">
                                <img id="shinyFrente"
                                    src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/1.png"
                                    class="d-block w-100">
                            </div>
                            <div class="carousel-item">
                                <img id="shinyAtras"
                                    src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/shiny/1.png"
                                    class="d-block w-100">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4 mb-2">
            <div class="col d-flex justify-content-center">
                <audio id="audio" controls>
                    <source src="https://raw.githubusercontent.com/PokeAPI/cries/main/cries/pokemon/latest/1.ogg"
                        type="audio/ogg">
                    Tu navegador no soporta el formato de audio.
                </audio>
            </div>
        </div>

        <div class="row mt-4 mb-2">
            <div class="col">
                <ol class="list-group">
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">Tipo</div>
                            <p id="tipo"></p>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">Peso</div>
                            <p id="peso"></p>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">Altura</div>
                            <p id="altura"></p>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Salud</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="saludprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-success">0</div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Ataque</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="ataqueprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-danger">0</div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Defensa</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="defensaprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-primary">0</div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Ataque especial</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="ataqueespecialprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-warning text-dark">
                                    0</div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Defensa especial</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="defensaespecialprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-info text-dark">0
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto w-100">
                            <div class="fw-bold">Velocidad</div>
                            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="0">
                                <div id="velocidadprogress-bar"
                                    class="progress-bar progress-bar-striped progress-bar-animated bg-light text-dark">0
                                </div>
                            </div>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const pokemonId = urlParams.get('id');

        let tipo = document.getElementById('tipo');

        fetch('https://pokeapi.co/api/v2/pokemon/' + pokemonId)
            .then(response => response.json())
            .then(json => {
                document.getElementById('id').innerText = '#' + json.id;
                document.getElementById('nombre').innerText = json.name;

                document.getElementById('frente').src = json.sprites.front_default;
                document.getElementById('atras').src = json.sprites.back_default;
                document.getElementById('shinyFrente').src = json.sprites.front_shiny;
                document.getElementById('shinyAtras').src = json.sprites.back_shiny;

                document.getElementById('audio').src = json.cries.latest;

                if (json.types.length > 1) {
                    switch (json.types[0].type.name) {
                        case 'fighting':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fighting">lucha</span>';
                            break;
                        case 'flying':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-flying">volador</span>';
                            break;
                        case 'poison':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-poison">veneno</span>';
                            break;
                        case 'ground':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ground">tierra</span>';
                            break;
                        case 'rock':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-rock">roca</span>';
                            break;
                        case 'bug':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-bug">bicho</span>';
                            break;
                        case 'ghost':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ghost">fantasma</span>';
                            break;
                        case 'steel':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-steel">acero</span>';
                            break;
                        case 'fire':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fire">fuego</span>';
                            break;
                        case 'water':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-water">agua</span>';
                            break;
                        case 'grass':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-grass">planta</span>';
                            break;
                        case 'electric':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-electric">eléctrico</span>';
                            break;
                        case 'psychic':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-psychic">psíquico</span>';
                            break;
                        case 'ice':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ice">hielo</span>';
                            break;
                        case 'dragon':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-dragon">dragón</span>';
                            break;
                        case 'dark':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-dark">siniestro</span>';
                            break;
                        case 'fairy':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fairy">hada</span>';
                            break;
                        case 'unknown':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-unknown">(?)</span>';
                            break;
                        case 'shadow':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-shadow">oscuro</span>';
                            break;
                        case 'normal':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-normal">normal</span>';
                            break;
                        default:
                            tipo.innerHTML = 'Tipo: ' + json.types[0].type.name;
                            break;
                    }

                    switch (json.types[1].type.name) {
                        case 'fighting':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-fighting">lucha</span>';
                            break;
                        case 'flying':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-flying">volador</span>';
                            break;
                        case 'poison':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-poison">veneno</span>';
                            break;
                        case 'ground':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-ground">tierra</span>';
                            break;
                        case 'rock':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-rock">roca</span>';
                            break;
                        case 'bug':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-bug">bicho</span>';
                            break;
                        case 'ghost':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-ghost">fantasma</span>';
                            break;
                        case 'steel':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-steel">acero</span>';
                            break;
                        case 'fire':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-fire">fuego</span>';
                            break;
                        case 'water':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-water">agua</span>';
                            break;
                        case 'grass':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-grass">planta</span>';
                            break;
                        case 'electric':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-electric">eléctrico</span>';
                            break;
                        case 'psychic':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-psychic">psíquico</span>';
                            break;
                        case 'ice':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-ice">hielo</span>';
                            break;
                        case 'dragon':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-dragon">dragón</span>';
                            break;
                        case 'dark':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-dark">siniestro</span>';
                            break;
                        case 'fairy':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-fairy">hada</span>';
                            break;
                        case 'unknown':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-unknown">(?)</span>';
                            break;
                        case 'shadow':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-shadow">oscuro</span>';
                            break;
                        case 'normal':
                            tipo.innerHTML += ' <span class="badge rounded-pill text-bg-normal">normal</span>';
                            break;
                        default:
                            p3.innerHTML += ' ' + json.types[1].type.name;
                            break;
                    }
                }
                else {
                    switch (json.types[0].type.name) {
                        case 'fighting':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fighting">lucha</span>';
                            break;
                        case 'flying':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-flying">volador</span>';
                            break;
                        case 'poison':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-poison">veneno</span>';
                            break;
                        case 'ground':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ground">tierra</span>';
                            break;
                        case 'rock':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-rock">roca</span>';
                            break;
                        case 'bug':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-bug">bicho</span>';
                            break;
                        case 'ghost':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ghost">fantasma</span>';
                            break;
                        case 'steel':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-steel">acero</span>';
                            break;
                        case 'fire':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fire">fuego</span>';
                            break;
                        case 'water':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-water">agua</span>';
                            break;
                        case 'grass':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-grass">planta</span>';
                            break;
                        case 'electric':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-electric">eléctrico</span>';
                            break;
                        case 'psychic':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-psychic">psíquico</span>';
                            break;
                        case 'ice':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-ice">hielo</span>';
                            break;
                        case 'dragon':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-dragon">dragón</span>';
                            break;
                        case 'dark':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-dark">siniestro</span>';
                            break;
                        case 'fairy':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-fairy">hada</span>';
                            break;
                        case 'unknown':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-unknown">(?)</span>';
                            break;
                        case 'shadow':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-shadow">oscuro</span>';
                            break;
                        case 'normal':
                            tipo.innerHTML = '<span class="badge rounded-pill text-bg-normal">normal</span>';
                            break;
                        default:
                            tipo.innerHTML = 'Tipo: ' + json.types[0].type.name;
                            break;
                    }
                }

                document.getElementById('peso').innerText = agregarComa(json.weight) + ' kg';
                document.getElementById('altura').innerText = agregarComa(json.height) + ' m';

                document.getElementById('saludprogress-bar').innerText = json.stats[0].base_stat;
                document.getElementById('saludprogress-bar').style.width = ((json.stats[0].base_stat / 240) * 100) + '%';
                document.getElementById('ataqueprogress-bar').innerText = json.stats[1].base_stat;
                document.getElementById('ataqueprogress-bar').style.width = ((json.stats[1].base_stat / 240) * 100) + '%';
                document.getElementById('defensaprogress-bar').innerText = json.stats[2].base_stat;
                document.getElementById('defensaprogress-bar').style.width = ((json.stats[2].base_stat / 240) * 100) + '%';
                document.getElementById('ataqueespecialprogress-bar').innerText = json.stats[3].base_stat;
                document.getElementById('ataqueespecialprogress-bar').style.width = ((json.stats[3].base_stat / 240) * 100) + '%';
                document.getElementById('defensaespecialprogress-bar').innerText = json.stats[4].base_stat;
                document.getElementById('defensaespecialprogress-bar').style.width = ((json.stats[4].base_stat / 240) * 100) + '%';
                document.getElementById('velocidadprogress-bar').innerText = json.stats[5].base_stat;
                document.getElementById('velocidadprogress-bar').style.width = ((json.stats[5].base_stat / 240) * 100) + '%';
            });

        function agregarComa(numero) {
            let numeroArray = numero.toString().split('');
            numeroArray.splice(numeroArray.length - 1, 0, ',');
            numero = numeroArray.join('');

            if (numero.length == 2) {
                numero = '0' + numero;
            }

            return numero;
        }
    </script>
</body>

</html>